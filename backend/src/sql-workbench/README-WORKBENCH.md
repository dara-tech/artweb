# ART Web SQL Workbench Files

Ready-to-use SQL queries for HIV/AIDS indicators analysis in any SQL workbench environment.

## üìÅ Files Overview

### Main Files
- **`artweb-complete-indicators-workbench.sql`** - Complete analysis with all indicators
- **`README-WORKBENCH.md`** - This documentation

### Individual Indicators (49 files)
Each indicator has both aggregate and detail versions:
- `01_active_art_previous.sql` - Active ART patients (previous period)
- `03_newly_enrolled.sql` - Newly enrolled patients
- `05.1.1_art_same_day.sql` - ART same day initiation
- `10.8_vl_suppression.sql` - Viral load suppression
- *...and 45 more*

## üöÄ Quick Start

### 1. Set Parameters
```sql
-- Date parameters
SET @StartDate = '2025-04-01';
SET @EndDate = '2025-06-30';
SET @PreviousEndDate = '2025-03-31';

-- Status codes
SET @lost_code = 0;
SET @dead_code = 1;
SET @transfer_out_code = 3;
SET @transfer_in_code = 1;

-- Clinical parameters
SET @mmd_drug_quantity = 60;
SET @vl_suppression_threshold = 1000;
SET @tld_regimen_formula = '3TC + DTG + TDF';
SET @tpt_drug_list = "'Isoniazid','3HP','6H'";
```

### 2. Run Analysis
```sql
-- Complete analysis
SOURCE artweb-complete-indicators-workbench.sql;

-- Individual indicator
SOURCE 01_active_art_previous.sql;
```

## üìä Available Indicators

| Code | Description | Code | Description |
|------|-------------|------|-------------|
| 01 | Active ART Previous | 08.1 | Dead |
| 02 | Active Pre-ART Previous | 08.2 | Lost to Follow-up |
| 03 | Newly Enrolled | 08.3 | Transfer Out |
| 04 | Retested Positive | 09 | Active Pre-ART Current |
| 05 | Newly Initiated ART | 10 | Active ART Current |
| 05.1.1 | ART Same Day | 10.1 | Eligible MMD |
| 05.1.2 | ART 1-7 Days | 10.2 | Multi-Month Dispensing |
| 05.1.3 | ART Over 7 Days | 10.3 | TLD Patients |
| 05.2 | ART with TLD | 10.4 | TPT Started |
| 06 | Transfer In | 10.5 | TPT Complete |
| 07 | Lost and Return | 10.6 | Eligible VL Test |
| | | 10.7 | VL Tested 12M |
| | | 10.8 | VL Suppression |

## üóÑÔ∏è Database Requirements

### Required Tables
- `tblaimain` - Adult patient data
- `tblcimain` - Child patient data  
- `tbleimain` - Infant patient data
- `tblavpatientstatus` - Patient status data
- `tblsitename` - Site information
- `tblclinic` - Clinic information

### Key Columns
- `SiteName` - Site identifier
- `DafirstVisit` - First visit date
- `DaART` - ART start date
- `Sex` - Patient gender
- `DaBirth` - Birth date

## üí° Usage Examples

### Export Results
```sql
-- Set parameters first
SET @StartDate = '2024-01-01';
SET @EndDate = '2024-03-31';
-- ... other parameters

-- Export to CSV
SELECT * FROM (
    -- Your indicator query here
) AS results
INTO OUTFILE '/tmp/results.csv'
FIELDS TERMINATED BY ',' 
ENCLOSED BY '"' 
LINES TERMINATED BY '\n';
```

## üîß Troubleshooting

### Common Issues
- **Parameter not set**: Ensure all required parameters are set before running
- **Table not found**: Verify all required tables exist in your database
- **Permission denied**: Check database user permissions for SELECT operations

### Performance Tips
- Ensure proper indexes on `SiteName`, `DafirstVisit`, `DaART` columns
- Use date ranges to limit data processing
- Filter by specific site codes for better performance

## üìû Support

For technical support, contact the development team.

---
*Generated by ART Web System*